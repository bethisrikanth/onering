<div class="container-fluid node" ng-show="device">
  <header class="row-fluid">
    <div class="span9">
      <span class="label hid">{{ device.id }}</span>
      <br />
      <h1>
        <span class="name">{{ device.name | section:'.':1:1 }}<i class="minor">.{{ device.name | section:'.':2 }}</i></span>
      </h1>
      <h5 ng-show="device.aliases">Aliases: <i class="normal">{{ device.aliases | join:', ' }}</i></h5>
    </div>

    <div class="span3">
      <b class="pull-right">
        <i class="icon-time"></i>
        Last Seen: <span ng-show="device.collected_at">{{ device.collected_at | timeAgo }}</span><span ng-hide="device.collected_at">has not reported</span>
      </b>
    </div>
  </header>

  <div class="row-fluid">
    <div class="span3">
      <h3>Details</h3>
      <div ng-include="'views/node-details.html'" />
    </div>

    <div class="span6" ng-include="'views/node-dashboard.html'" />

    <div class="span3">
      <h3>Actions</h3>

      <ul class="nav nav-list well">
        <li class="nav-header">Lifecycle</li>
        <li><a open-dialog="nodeComment"><i class="icon-comment"></i> Add Note</a></li>
      </ul>
    </div>
  </div>

</div>

<div class="modal hide" id="nodeComment">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Add Note</h3>
  </div>

  <div class="modal-body">
    <textarea autofocus style="width: 95%;" ng-model="note"></textarea>
  </div>

  <div class="modal-footer">
    <a class="btn btn-danger" data-dismiss="modal" ng-click="note=null">Cancel</a>
    <a class="btn btn-primary" data-dismiss="modal" ng-click="saveNote()">Save</a>
  </div>
</div>
