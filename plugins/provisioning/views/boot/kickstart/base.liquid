# Kickstart provided by Onering

# =============================================================================
# INSTALL PARAMETERS
install
text
skipx
url --url http://repo.{{ device.properties.site | downcase }}.outbrain.com/CentOS/5.8/os/x86_64/
repo --name=NYDC1-Operations-5 --baseurl=http://repo.{{ device.properties.site | downcase }}.outbrain.com/Operations/el/5/x86_64/
repo --name=NYDC1-EPEL-5 --baseurl=http://repo.{{ device.properties.site | downcase }}.outbrain.com/epel/5/x86_64/
repo --name=NYDC1-CentOS-5-Updates --baseurl=http://repo.{{ device.properties.site | downcase }}.outbrain.com/CentOS/5/updates/x86_64/
repo --name=NYDC1-CentOS-5-Base --baseurl=http://repo.{{ device.properties.site | downcase }}.outbrain.com/CentOS/5/os/x86_64/


# =============================================================================
# LOCALE
lang en_US.UTF-8
keyboard us
timezone --utc {{ device.properties.timezone | or: 'America/New_York' }}


# =============================================================================
# SECURITY
rootpw --iscrypted {{ config.roothash }}
authconfig --enableshadow --enablemd5 --enableldap --enableldapauth --enablelocauthorize --enablecache --enablemkhomedir --updateall --ldapserver=ldap --ldapbasedn=dc=outbrain,dc=com
firewall --disabled
selinux --disabled


# =============================================================================
# NETWORK
{% include 'boot/kickstart/network' %}

# =============================================================================
# DISK CONFIGURATION
{% include 'boot/kickstart/disk' %}

# =============================================================================
# PACKAGE MANIFEST
{% include 'boot/kickstart/packages' %}

# =============================================================================
# POST-INSTALL SCRIPTS
%post

{% include 'boot/kickstart/post/init' %}

{% include 'boot/kickstart/post/network' %}

{% include 'boot/kickstart/post/yum' %}

{% include 'boot/kickstart/post/services' %}

{% include 'boot/kickstart/post/chef' %}

{% include 'boot/kickstart/post/done' %}
